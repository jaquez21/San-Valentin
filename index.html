<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San ValentÃ­n ðŸ’˜</title>

<style>
body {
  margin: 0;
  background: linear-gradient(to bottom, #ff9ecf, #ff4d88);
  overflow: hidden;
  font-family: Arial, sans-serif;
  text-align: center;
}

h1 {
  color: white;
  margin-top: 20px;
}

.contenedor {
  position: relative;
  width: 260px;
  height: 260px;
  margin: 30px auto;
}

.foto-circular {
  position: absolute;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid white;
}

.boton-musica {
  background: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-size: 16px;
  cursor: pointer;
  margin-top: 15px;
}

.corazon {
  position: fixed;
  top: -10px;
  color: red;
  font-size: 20px;
  animation: caer 5s linear infinite;
}

@keyframes caer {
  to {
    transform: translateY(100vh);
  }
}
</style>
</head>

<body>

<h1>Feliz San ValentÃ­n ðŸ’–</h1>

<div class="contenedor">
  <img src="pareja.jpg" class="foto-circular">
  <img src="pareja2.jpg" class="foto-circular">
  <img src="pareja3.jpg" class="foto-circular">
  <img src="pareja4.jpg" class="foto-circular">
  <img src="pareja5.jpg" class="foto-circular">
  <img src="pareja6.jpg" class="foto-circular">
</div>

<button class="boton-musica" onclick="document.getElementById('musica').play()">
  ðŸŽµ Reproducir MÃºsica
</button>

<audio id="musica" loop>
  <source src="duko.mp3" type="audio/mpeg">
</audio>

<script>
// CORAZONES
function crearCorazon() {
  const corazon = document.createElement("div");
  corazon.classList.add("corazon");
  corazon.innerHTML = "â¤ï¸";
  corazon.style.left = Math.random() * 100 + "vw";
  corazon.style.animationDuration = (Math.random() * 3 + 2) + "s";
  document.body.appendChild(corazon);

  setTimeout(() => corazon.remove(), 5000);
}

setInterval(crearCorazon, 400);

// REBOTE ENTRE IMÃGENES
const fotos = document.querySelectorAll('.foto-circular');
const limite = 260;
const size = 80;
const radio = size / 2;
const objetos = [];

const posiciones = [
  {x: 20, y: 20},
  {x: 150, y: 20},
  {x: 20, y: 150},
  {x: 150, y: 150},
  {x: 85, y: 60},
  {x: 60, y: 100}
];

fotos.forEach((foto, i) => {

  let x = posiciones[i].x;
  let y = posiciones[i].y;

  let dx = (Math.random() * 0.8 + 0.7) * (Math.random() < 0.5 ? 1 : -1);
  let dy = (Math.random() * 0.8 + 0.7) * (Math.random() < 0.5 ? 1 : -1);

  objetos.push({ foto, x, y, dx, dy });

  foto.style.left = x + "px";
  foto.style.top = y + "px";
});

function animar() {

  objetos.forEach(obj => {
    obj.x += obj.dx;
    obj.y += obj.dy;

    if (obj.x <= 0 || obj.x + size >= limite) obj.dx *= -1;
    if (obj.y <= 0 || obj.y + size >= limite) obj.dy *= -1;
  });

  for (let i = 0; i < objetos.length; i++) {
    for (let j = i + 1; j < objetos.length; j++) {

      let a = objetos[i];
      let b = objetos[j];

      let dx = (b.x + radio) - (a.x + radio);
      let dy = (b.y + radio) - (a.y + radio);
      let distancia = Math.sqrt(dx * dx + dy * dy);

      if (distancia < size) {

        let nx = dx / distancia;
        let ny = dy / distancia;

        let p = (a.dx - b.dx) * nx + (a.dy - b.dy) * ny;

        if (p > 0) continue;

        a.dx -= p * nx;
        a.dy -= p * ny;

        b.dx += p * nx;
        b.dy += p * ny;

        let overlap = size - distancia;
        a.x -= nx * overlap / 2;
        a.y -= ny * overlap / 2;
        b.x += nx * overlap / 2;
        b.y += ny * overlap / 2;
      }
    }
  }

  objetos.forEach(obj => {
    obj.foto.style.left = obj.x + "px";
    obj.foto.style.top = obj.y + "px";
  });

  requestAnimationFrame(animar);
}

animar();
</script>

</body>
</html>
